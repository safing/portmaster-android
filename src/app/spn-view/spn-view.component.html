<ion-content>
  <ion-item color="disclaimer">
    <ion-label class="ion-text-wrap">
      <p>This version is not optimized for battery performance. We are working on improving this for future versions.
      </p>
    </ion-label>
  </ion-item>

  <div class="header">
    <app-security-lock class="shield"></app-security-lock>
    <ion-item style="text-align: right; "><ion-label >
        <p>Shutdown:</p>
      </ion-label>
      <ion-button slot="end" (click)="Shutdown()" color="danger">
        <ion-icon name="power-outline"></ion-icon>
      </ion-button>
    </ion-item>

    <ion-item style="text-align: right; width: 50%; float: right;">
      <ion-label >
        <p>Account info:</p>
      </ion-label>
      <ion-button slot="end" color="pm-accent" (click)="openUserInfo()">
        <ion-icon src="../../assets/menu/user.svg"></ion-icon>
      </ion-button>
    </ion-item>
  </div>
  
  <ion-item button>
    <ion-label (click)="openConnectionInfo()" [ngSwitch]="SPNStatus?.Status">
      SPN
      <p>
        <ng-template ngSwitchCase="disabled">
          Increase privacy protection
        </ng-template>
        <ng-template ngSwitchCase="failed">
          Failed to connect
        </ng-template>
        <ng-template ngSwitchCase="connecting">
          Connecting to the SPN ...
        </ng-template>
        <ng-template ngSwitchCase="connected">
          <u>You're protected</u>
        </ng-template>
      </p>
    </ion-label>
    <spn-button slot="end" class="spn-button" [User]="User" [SPNStatus]="SPNStatus" [IsGeoIPDataAvailable]="IsGeoIPDataAvailable" (onStateChange)="setSPNEnabled($event)" (onLogin)="openLoginPage()"></spn-button>
  </ion-item>
  <!-- Notifications -->
  <notifications/>

  <ion-item *ngIf="!IsGeoIPDataAvailable">
    <ion-label class="ion-text-wrap">
      <p>The GeoIP update is required before you can start using the SPN.</p>
    </ion-label>
  </ion-item>
  <ion-item *ngIf="SPNStatus?.Status == 'failed' && SPNErrorMsg.length > 0">
    <ion-label class="ion-text-wrap">
      <p>{{SPNErrorMsg}}</p>
    </ion-label>
  </ion-item>
  <app-download-progress (OnDownloadComplete)="CheckGeoIPData()"></app-download-progress>
  <div class="link" color="white">

  </div>
</ion-content>